<!--

                                Vortex Cafe

       This software and documentation are Copyright 2010 to 2019 ADLINK
       Technology Limited, its affiliated companies and licensors. All rights
       reserved.

       Licensed under the ADLINK Software License Agreement Rev 2.7 2nd October
       2014 (the "License"); you may not use this file except in compliance with
       the License.
       You may obtain a copy of the License at:
                           docs/LICENSE.html

       See the License for the specific language governing permissions and
       limitations under the License.

-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"
>
    <modelVersion>4.0.0</modelVersion>
    
    <groupId>org.eclipse.cyclonedds.idlcompiler.test</groupId>
    <artifactId>CompilerMojo</artifactId>
    <packaging>jar</packaging>
    
    <version>1.0-SNAPSHOT</version>
    <name>Test CompilerMojo</name>

    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.12</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.eclipse.cyclonedds</groupId>
                <artifactId>idl2j</artifactId>
                <version>${project.version}</version>
                <executions>
                    <execution>
                        <id>generate-sources</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>idl-compile</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <!-- The defined stubs -->
                    <project implementation="org.eclipse.cyclonedds.idl2j.stubs.IDLProjectStub" />
                    <idlDir>src/test/resources/valid-idl</idlDir>
                    <outDir>target/generated-test-sources</outDir>
                    <includeDirs>
                        <includeDir>src/test/resources/valid-idl/myDir1</includeDir>
                        <includeDir>src/test/resources/valid-idl/myDir2</includeDir>
                        <includeDir>src/test/resources/valid-idl/WEB-125</includeDir>
                    </includeDirs>
                    <mode>-v</mode>
                    <defaultPkgPrefix>default_pkg_prefix</defaultPkgPrefix>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.5.1</version>
                <configuration>
                    <source>1.7</source>
                    <target>1.7</target>
                </configuration>
            </plugin>

        </plugins>
    </build>
</project>
